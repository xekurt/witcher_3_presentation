<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Maps in The Witcher 3: Wild Hunt</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/black.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <!-- Title Slide -->
            <section>
                <h1>Maps in The Witcher 3</h1>
                <h3>A Spatial Analysis of the Continent</h3>
                <p style="margin-top: 20px; font-size: 0.8em; color: var(--witcher-silver);">
                    Presented by:<br>
                    <strong>Ayoub</strong> (Velen) &bull; <strong>Alex</strong> (Novigrad) &bull; <strong>Jaber</strong>
                    (Skellige)
                </p>
            </section>

            <!-- Ayoub: Velen -->
            <section id="velen">
                <section>
                    <h2>Velen: No Man's Land</h2>
                    <h3>Presented by Ayoub</h3>
                    <p>A land ravaged by war, defined by misery, swamps, and dark magic.</p>
                </section>
                <section>
                    <h3>Overview: Nature & Dangers</h3>
                    <ul>
                        <li class="fragment"><strong>Landscape:</strong> Muddy swamps, dense forests, war-torn
                            battlefields, and impoverished villages.</li>
                        <li class="fragment"><strong>Atmosphere:</strong> Gloomy, foggy, and oppressive. The land feels
                            "cursed."</li>
                        <li class="fragment"><strong>Dangers:</strong> Necrophages (Ghouls, Drowners) feasting on
                            corpses; bandits scavenging the dead; The Crones.</li>
                    </ul>
                </section>
                <section>
                    <h3>Interactive Map</h3>
                    <iframe class="map-frame" data-src="https://witcher3map.com/v/"></iframe>
                </section>
                <section>
                    <h3>Influence: Economics & Combat</h3>
                    <ul>
                        <li class="fragment"><strong>Economics:</strong> Extreme poverty. Merchants have little gold;
                            food is scarce. Loot is often "junk."</li>
                        <li class="fragment"><strong>Combat:</strong> Open fields allow for maneuvering, but swamps slow
                            movement. Mud and trees can obstruct dodging.</li>
                    </ul>
                </section>
                <section>
                    <h3>Music & Experience</h3>
                    <p>The soundscape of Velen is <strong>melancholic and eerie</strong>.</p>
                    <ul>
                        <li class="fragment">Low, droning strings and wailing vocals evoke a sense of hopelessness.</li>
                        <li class="fragment">Music swells with tension in the swamps, making the player feel constantly
                            watched.</li>
                    </ul>
                </section>
                <section>
                    <h3>Movement</h3>
                    <ul>
                        <li class="fragment"><strong>Horse (Roach):</strong> Good for traversing the war-torn plains,
                            but struggles in deep swamps.</li>
                        <li class="fragment"><strong>Boat:</strong> Useful for navigating the Pontar river delta and
                            coastal shipwrecks.</li>
                        <li class="fragment"><strong>Feet:</strong> Essential for investigating dense bogs and small,
                            cluttered villages.</li>
                    </ul>
                </section>
            </section>

            <!-- Alex: Novigrad -->
            <section id="novigrad">
                <section>
                    <h2>Novigrad: The Free City</h2>
                    <h3>Presented by Alex</h3>
                    <p>The center of civilization, religion, and commerce. A city of stone and fire.</p>
                </section>
                <section>
                    <h3>Overview: Nature & Dangers</h3>
                    <ul>
                        <li class="fragment"><strong>Landscape:</strong> Urban sprawl, paved streets, stone
                            architecture, busy harbor, and sewers.</li>
                        <li class="fragment"><strong>Atmosphere:</strong> Bustling, loud, and vibrant, but with an
                            undercurrent of religious persecution.</li>
                        <li class="fragment"><strong>Dangers:</strong> Temple Guards, Witch Hunters, thieves in the
                            bits, and political intrigue.</li>
                    </ul>
                </section>
                <section>
                    <h3>Interactive Map</h3>
                    <iframe class="map-frame" data-src="https://witcher3map.com/v/"></iframe>
                </section>
                <section>
                    <h3>Influence: Economics & Combat</h3>
                    <ul>
                        <li class="fragment"><strong>Economics:</strong> The richest region. Merchants pay well; banks
                            exchange currency. High-quality gear is available.</li>
                        <li class="fragment"><strong>Combat:</strong> Tight alleys and interiors restrict movement.
                            Fights are often close-quarters against humans.</li>
                    </ul>
                </section>
                <section>
                    <h3>Music & Experience</h3>
                    <p>The music is <strong>upbeat, rhythmic, and civilized</strong>.</p>
                    <ul>
                        <li class="fragment">Lutes, drums, and flutes create a lively medieval city vibe.</li>
                        <li class="fragment">The music shifts to darker, tense themes when dealing with the criminal
                            underworld or Witch Hunters.</li>
                    </ul>
                </section>
                <section>
                    <h3>Movement</h3>
                    <ul>
                        <li class="fragment"><strong>Feet:</strong> The primary mode. Navigating crowds, stairs, and
                            narrow streets is best done on foot.</li>
                        <li class="fragment"><strong>Horse:</strong> Impractical inside the city walls due to crowds and
                            obstacles.</li>
                        <li class="fragment"><strong>Boat:</strong> Used to access the harbor and travel quickly to the
                            outskirts or Oxenfurt.</li>
                    </ul>
                </section>
            </section>

            <!-- Jaber: Skellige -->
            <section id="skellige">
                <section>
                    <h2>Skellige: The Isles</h2>
                    <h3>Presented by Jaber</h3>
                    <p>A rugged archipelago of warriors, mountains, and the open sea.</p>
                </section>
                <section>
                    <h3>Overview: Nature & Dangers</h3>
                    <ul>
                        <li class="fragment"><strong>Landscape:</strong> Snow-capped peaks, steep cliffs, icy oceans,
                            and lush green valleys.</li>
                        <li class="fragment"><strong>Atmosphere:</strong> Majestic, cold, and untamed. A land of myths
                            and legends.</li>
                        <li class="fragment"><strong>Dangers:</strong> Falling from heights, freezing temperatures,
                            Sirens at sea, Cyclops in the mountains.</li>
                    </ul>
                </section>
                <section>
                    <h3>Interactive Map</h3>
                    <iframe class="map-frame" data-src="https://witcher3map.com/s/"></iframe>
                </section>
                <section>
                    <h3>Influence: Economics & Combat</h3>
                    <ul>
                        <li class="fragment"><strong>Economics:</strong> Maritime trade. Fish and skins are common.
                            Blacksmiths value heavy armor and weapons.</li>
                        <li class="fragment"><strong>Combat:</strong> Verticality plays a huge role. Slopes affect
                            footing. Naval combat against Sirens is unique to this region.</li>
                    </ul>
                </section>
                <section>
                    <h3>Music & Experience</h3>
                    <p>The soundtrack is <strong>epic, vocal-heavy, and sweeping</strong>.</p>
                    <ul>
                        <li class="fragment">"The Fields of Ard Skellig" evokes a sense of wonder and vastness.</li>
                        <li class="fragment">The music makes the player feel small against the grandeur of nature.</li>
                    </ul>
                </section>
                <section>
                    <h3>Movement</h3>
                    <ul>
                        <li class="fragment"><strong>Boat:</strong> Absolutely essential. The only way to travel between
                            islands.</li>
                        <li class="fragment"><strong>Horse:</strong> Useful for crossing the larger islands (Ard
                            Skellig), but blocked by mountains.</li>
                        <li class="fragment"><strong>Feet:</strong> Required for climbing peaks and exploring
                            caves/ruins inaccessible by Roach.</li>
                    </ul>
                </section>
            </section>

            <!-- Conclusion -->
            <section>
                <h2>Conclusion</h2>
                <p>Three regions, three distinct worlds.</p>
                <p>Velen survives, Novigrad profits, Skellige endures.</p>
                <p style="margin-top: 30px;">Thank You.</p>
            </section>
        </div>
    </div>

    <!-- Audio Soundtracks -->
    <audio id="velen-audio" loop>
        <source src="audio/velen.mp3" type="audio/mpeg">
    </audio>
    <audio id="novigrad-audio" loop>
        <source src="audio/novigrad.mp3" type="audio/mpeg">
    </audio>
    <audio id="skellige-audio" loop>
        <source src="audio/skellige.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            transition: 'fade', // none/fade/slide/convex/concave/zoom
            backgroundTransition: 'zoom',
            controls: true,
            progress: true,
            center: true,
            margin: 0.1, // Add margin around slides
            width: 1200, // Increase width to fit more content horizontally if needed
            height: 800,
        }).then(() => {
            const regionIds = ['velen', 'novigrad', 'skellige'];
            const audioElements = {};
            regionIds.forEach(id => {
                const el = document.getElementById(id + '-audio');
                if (el) {
                    el.volume = 0.5; // Set volume to 50%
                    audioElements[id] = el;
                }
            });

            Reveal.on('slidechanged', event => {
                const currentSlide = event.currentSlide;
                let activeRegion = null;

                // Check parent sections for region ID
                let node = currentSlide;
                while (node && node.tagName === 'SECTION') {
                    if (regionIds.includes(node.id)) {
                        activeRegion = node.id;
                        break;
                    }
                    node = node.parentNode;
                }

                // Manage Audio Playback
                regionIds.forEach(id => {
                    const audio = audioElements[id];
                    if (!audio) return;

                    if (id === activeRegion) {
                        if (audio.paused) {
                            const playPromise = audio.play();
                            if (playPromise !== undefined) {
                                playPromise.catch(error => {
                                    console.log("Audio play prevented:", error);
                                });
                            }
                        }
                    } else {
                        if (!audio.paused) {
                            audio.pause();
                            audio.currentTime = 0; // Restart track when re-entering
                        }
                    }
                });
            });
        });
    </script>
</body>

</html>